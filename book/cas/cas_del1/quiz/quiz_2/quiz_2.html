<!-- Container for the quiz -->
<div id="quiz-container-cas-kurs-del-1-underveisoppgave-2" class="quiz-main-container">
    <!-- Placeholder content -->
    <div id="quiz-placeholder-cas-kurs-del-1-underveisoppgave-2" style="height: 300px; background-color: #f0f0f0; display: flex; align-items: center; justify-content: center;">
        <p>Laster inn quiz...⏳</p>
    </div>
</div>

<!-- Include KaTeX for LaTeX rendering -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script defer src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex/dist/contrib/auto-render.min.js"></script>


<script type="text/javascript">
    document.addEventListener("DOMContentLoaded", () => {

        code_question_1 = `from casify import *

løsning = løs("3 * x - y = 2", "-x + y = 6")

print(løsning)
`

        code_question_2 = `from casify import *

løsning = løs("4 * x - y = 7", "2 * x + y = 3")

print(løsning)
`

        code_question_3 = `from casify import *
løsning = løs("-x + y = 4", "3 * x + 2 * y = 6")

print(løsning)
`

        code_question_4 = `from casify import *

løsning = løs("-3 * x + y = 10", "2 * x - 4 * y = 7")

print(løsning)
`
        

        // Define your questions and answers
        const questionsData = [
            {
                content: `Hvilket likningssystem er det programmet løser? <pre><code class="python">${code_question_1}</code></pre>`,
                answers: [
                    { content: '$$3x - y = 2 \\quad \\land \\quad -x + y = 6$$', isCorrect: true },
                    { content: '$$3x + y = -2 \\quad \\land \\quad x - y = 6$$', isCorrect: false },
                    { content: '$$3x + y = -2 \\quad \\land \\quad x + y = -6$$', isCorrect: false },
                    { content: '$$3x - y = 2 \\quad \\land \\quad x + y = -6$$', isCorrect: false },
                ]
            },
            {
                content: `Hvilket likningssystem er det programmet løser? <pre><code class="python">${code_question_2}</code></pre>`,
                answers: [
                    { content: '$$4x - y = 7 \\quad \\land \\quad 2x + y = 3$$', isCorrect: true },
                    { content: '$$4x + y = 7 \\quad \\land \\quad 2x + y = 3$$', isCorrect: false},
                    { content: '$$4x - y = 7 \\quad \\land \\quad 2x - y = 3$$', isCorrect: false },
                    { content: '$$4x + y = 7 \\quad \\land \\quad 2x - y = 3$$', isCorrect: false },
                ]
            },
            {
                content: `Hvilket likningssystem er det programmet løser? <pre><code class="python">${code_question_3}</code></pre>`,
                answers: [
                    { content: '$$-x + y = 4 \\quad \\land \\quad 3x + 2y = 6$$', isCorrect: true },
                    { content: '$$x + y = 4 \\quad \\land \\quad 3x + 2y = 6$$', isCorrect: false },
                    { content: '$$-x + y = 4 \\quad \\land \\quad 3x - 2y = -6$$', isCorrect: false },
                    { content: '$$x - y = 4 \\quad \\land \\quad 3x + 2y = -6$$', isCorrect: false },
                ]
            },
            {
                content: `Hvilket likningssystem er det programmet løser? <pre><code class="python">${code_question_4}</code></pre>`,
                answers: [
                    { content: '$$-3x + y = 10 \\quad \\land \\quad 2x - 4y = 7$$', isCorrect: true },
                    { content: '$$-3x - y = 10 \\quad \\land \\quad 2x - 4y = 7$$', isCorrect: false },
                    { content: '$$-3x + y = 10 \\quad \\land \\quad 2x + 4y = 7$$', isCorrect: false },
                    { content: '$$3x - y = 10 \\quad \\land \\quad 2x - 4y = -7$$', isCorrect: false },
                ]
            },
        ];

        // Function to initialize the quiz
        function initializeQuiz() {
            const quizContainerId = 'quiz-container-cas-kurs-del-1-underveisoppgave-2';
            const quiz = new SequentialMultipleChoiceQuiz(quizContainerId, questionsData);

            // Remove the placeholder after initializing the quiz
            const placeholder = document.getElementById('quiz-placeholder-cas-kurs-del-1-underveisoppgave-2');
            if (placeholder) {
                placeholder.remove();
            }

            // Disconnect the observer since we don't need it anymore
            observer.disconnect();
        }

        // Set up the IntersectionObserver
        const observerOptions = {
            root: null, // Use the viewport as the root
            rootMargin: '100px', // Start loading before the user reaches the quiz
            threshold: 0.1 // Adjust as needed
        };

        const observer = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    // The placeholder is in view, initialize the quiz
                    initializeQuiz();
                }
            });
        }, observerOptions);

        // Start observing the placeholder
        const placeholder = document.getElementById('quiz-placeholder-cas-kurs-del-1-underveisoppgave-2');
        if (placeholder) {
            observer.observe(placeholder);
        }
    });
</script>
