<!-- Container for the quiz -->
<div id="quiz-container-cas-kurs-del-1-underveisoppgave-1" class="quiz-main-container">
    <!-- Placeholder content -->
    <div id="quiz-placeholder-cas-kurs-del-1-underveisoppgave-1" style="height: 300px; background-color: #f0f0f0; display: flex; align-items: center; justify-content: center;">
        <p>Laster inn quiz...⏳</p>
    </div>
</div>

<!-- Include KaTeX for LaTeX rendering -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<script defer src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex/dist/contrib/auto-render.min.js"></script>


<script type="text/javascript">
    document.addEventListener("DOMContentLoaded", () => {

        // Define your questions and answers
        const questionsData = [
            {
                content: 'Hvilken likning er det programmet løser? <pre><code class="python">from sympy import * \nfrom sympy.abc import x \n\nlikning = Eq(3 * x - 6, 2) \nløsning = solve(likning) \n\nprint(løsning)</code></pre>',
                answers: [
                    { content: '$3x - 6 = 2$', isCorrect: true },
                    { content: '$3x + 6 = 2$', isCorrect: false },
                    { content: '$2x + 3 = 6$', isCorrect: false },
                    { content: '$3x + 2 = 6$', isCorrect: false },
                ]
            },
            {
                content: 'Hvilken likning er det programmet løser? <pre><code class="python">from sympy import * \nfrom sympy.abc import x \n\nlikning = Eq(-2 * x + 6, 3 * x) \nløsning = solve(likning) \n\nprint(løsning)</code></pre>',
                answers: [
                    { content: '$-2x + 6 = 3x$', isCorrect: true },
                    { content: '$-3x + 2 = 2x$', isCorrect: false },
                    { content: '$-3x + 2 = 6x$', isCorrect: false },
                    { content: '$2x - 6 = 3x$', isCorrect: false },
                ]
            },
            {
                content: 'Hvilken likning er det programmet løser? <pre><code class="python">from sympy import * \nfrom sympy.abc import x \n\nlikning = Eq(-x + 2, 3 * x + 5) \nløsning = solve(likning) \n\nprint(løsning)</code></pre>',
                answers: [
                    { content: '$-x + 2 = 3x + 5$', isCorrect: true },
                    { content: '$x - 2 = 3x + 5$', isCorrect: false },
                    { content: '$-x - 2 = 3x - 5$', isCorrect: false },
                    { content: '$x + 2 = -3x + 5$', isCorrect: false },
                ]
            },
            {
                content: 'Hva må byttes ut med <code class="python">likning = ??</code> for å løse likningen $4x - 1 = 7$? <pre><code class="python">from sympy import * \nfrom sympy.abc import x \n\nlikning = ?? \nløsning = solve(likning) \n\nprint(løsning)</code></pre>',
                answers: [
                    { content: '<code class="python">likning = Eq(4 * x - 1, 7)</code>', isCorrect: true },
                    { content: '<code class="python">likning = Eq(4 * x + 1, 7)</code>', isCorrect: false },
                    { content: '<code class="python">likning = Eq(-4 * x + 1, 7)</code>', isCorrect: false },
                    { content: '<code class="python">likning = Eq(4 * x + 1, -7)</code>', isCorrect: false },
                ]
            },
            {
                content: 'Hva må byttes ut med <code class="python">likning = ??</code> for å løse likningen $5x - 2 = -2x + 1$? <pre><code class="python">from sympy import * \nfrom sympy.abc import x \n\nlikning = ?? \nløsning = solve(likning) \n\nprint(løsning)</code></pre>',
                answers: [
                    { content: '<code class="python">likning = Eq(5 * x - 2, -2 * x + 1)</code>', isCorrect: true },
                    { content: '<code class="python">likning = Eq(5 * x - 2, 1)</code>', isCorrect: false },
                    { content: '<code class="python">likning = Eq(5x - 2, -2x + 1)</code>', isCorrect: false },
                    { content: '<code class="python">likning = Eq(-5 * x + 2, 2 * x + 1)</code>', isCorrect: false },
                ]
            },
        ];

        // Function to initialize the quiz
        function initializeQuiz() {
            const quizContainerId = 'quiz-container-cas-kurs-del-1-underveisoppgave-1';
            const quiz = new SequentialMultipleChoiceQuiz(quizContainerId, questionsData);

            // Remove the placeholder after initializing the quiz
            const placeholder = document.getElementById('quiz-placeholder-cas-kurs-del-1-underveisoppgave-1');
            if (placeholder) {
                placeholder.remove();
            }

            // Disconnect the observer since we don't need it anymore
            observer.disconnect();
        }

        // Set up the IntersectionObserver
        const observerOptions = {
            root: null, // Use the viewport as the root
            rootMargin: '100px', // Start loading before the user reaches the quiz
            threshold: 0.1 // Adjust as needed
        };

        const observer = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    // The placeholder is in view, initialize the quiz
                    initializeQuiz();
                }
            });
        }, observerOptions);

        // Start observing the placeholder
        const placeholder = document.getElementById('quiz-placeholder-cas-kurs-del-1-underveisoppgave-1');
        if (placeholder) {
            observer.observe(placeholder);
        }
    });
</script>
